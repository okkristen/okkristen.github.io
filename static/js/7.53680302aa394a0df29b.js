webpackJsonp([7],{"8E73":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mtWM"),i=e.n(a),m={data:function(){return{messagesList:[],message:"",email:"",name:"",status:"请输入",submitFlag:!1}},components:{},mounted:function(){localStorage.name&&(this.email=localStorage["e-mail"],this.name=localStorage.name),this.getMessages()},methods:{getMessages:function(){var t=this;i.a.get("/api/messageList").then(function(s){var e=s.data;t.messagesList=e.result})},submit:function(){var t=this;this.name&&this.email&&this.message?/^[\w_-]+@[\w_-]+\.[\w\\.]+$/.test(this.email)?this.message.length>500?this.status="可不能这么长哦":/\d{7,}/i.test(this.message)||/(\d.*){7,}/i.test(this.message)||/\u52A0.*\u7FA4/i.test(this.message)||/(\u9876.*){5,}/i.test(this.message)||/([\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u25CB\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396\u96F6].*){7,}/i.test(this.message)?this.status="可不能发不好的东东哦":(this.summitFlag=!0,localStorage.setItem("e-mail",this.email),localStorage.setItem("name",this.name),i.a.post("/api/messageSub",{name:this.name,email:this.email,content:this.message}).then(function(s){"0"===s.data.status?(t.status="留言成功喽",t.getMessages()):t.status="蜜汁错误"})):this.status="邮箱格式不对呀":this.status="怕是有什么没填哦"}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"messages"},[e("div",{staticClass:"container full"},[e("div",{staticClass:"list"},[e("div",[e("div",{staticClass:"full-content"},[e("div",{staticClass:"messages-text post-content"},[e("div",{staticStyle:{overflow:"hidden","margin-bottom":"20px"}},[e("h3",{staticClass:"hestia-title text-center"},[t._v("Leave a Reply")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],ref:"textBox",staticClass:"msg-content",attrs:{spellcheck:"false",row:"1",placeholder:"咱们交♂流交♂流~~",cols:"45",rows:"8","aria-required":"true"},domProps:{value:t.message},on:{input:function(s){s.target.composing||(t.message=s.target.value)}}}),t._v(" "),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"msg-name",attrs:{type:"text",placeholder:"起个名吧"},domProps:{value:t.name},on:{input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"msg-email",attrs:{type:"email",placeholder:"你的邮箱哦"},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}})]),t._v(" "),e("span",[t._v(t._s(t.status))]),t._v(" "),e("br"),t._v(" "),e("button",{staticClass:"submit",attrs:{disabled:t.submitFlag},on:{click:t.submit}},[e("span",[t._v(t._s(t.submitFlag?"提交中...":"发布评论"))])])]),t._v(" "),e("div",{staticClass:"msg"},[e("ol",{staticClass:"msg-list"},t._l(t.messagesList,function(s,a){return e("li",{key:a,staticClass:"msg-list-item"},[e("article",[e("header",[e("img",{staticClass:"avatar",attrs:{src:"https://cdn.v2ex.com/gravatar/"+s.email+"?s=120&d=mm&r=g",alt:""}}),t._v(" "),e("div",{staticClass:"msg-author"},[e("div",{staticClass:"msg-author-name"},[t._v(t._s(s.name)+"  "),"e210aaaced957c912a7dd01cccc53004"==s.email?e("span",{attrs:{id:"admin"}},[t._v("管理员")]):t._e()])]),t._v(" "),e("div",{staticClass:"msg-author-time"},[t._v(t._s(s.createDate))])]),t._v(" "),e("section",{staticClass:"msg-main"},[e("div",{staticClass:"msg-reply"},[e("p",[t._v(t._s(s.content))])])])])])}))])])])])])])])},staticRenderFns:[]};var l=e("VU/8")(m,n,!1,function(t){e("UePn")},"data-v-4633877f",null);s.default=l.exports},UePn:function(t,s){}});